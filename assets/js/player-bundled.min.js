/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20150601
 */
(function(n,t){"use strict";function i(i,r){function vi(n){return u.preferFlash&&tt&&!u.ignoreFlash&&u.flash[n]!==t&&u.flash[n]}function h(n){return function(t){var i=this._s;return i&&i._a?n.call(this,t):null}}this.setupOptions={url:i||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=r||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20150601";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=!1;this.enabled=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=!1;this.didFlashBlock=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.html5Only=!1;this.ignoreFlash=!1;var kr,u=this,dr=null,f=null,ni,l=navigator.userAgent,gr=n.location.href.toString(),o=document,yi,nu,pi,e,k=[],ct=!1,lt=!1,v=!1,d=!1,wi=!1,at,a,bi,tu,ki,rt,ft,et,iu,di,gi,nr,ot,ti,ut,tr,vt,ir,ii,st,ru,rr,ku=8,uu,ur,fu,yt=null,fr=null,pt,er,ht,p,ri,ui,du,s,wt=!1,or=!1,eu,ou,su,fi=0,bt=null,ei,kt=[],dt,w=null,hu,oi,gt,nt,si,sr,cu,c,gu=Array.prototype.slice,y=!1,hr,tt,cr,lu,g,nf,tf,hi,au=0,lr,b=1e3,ar=l.match(/(ipad|iphone|ipod)/i),vr=l.match(/android/i),it=l.match(/(msie|trident)/i),rf=l.match(/webkit/i),ci=l.match(/safari/i)&&!l.match(/chrome/i),yr=l.match(/opera/i),li=l.match(/(mobile|pre\/|xoom)/i)||ar||vr,vu=!gr.match(/usehtml5audio/i)&&!gr.match(/sm2\-ignorebadua/i)&&ci&&!l.match(/silk/i)&&l.match(/OS X 10_6_([3-7])/i),of=n.console!==t&&console.log!==t,pr=o.hasFocus!==t?o.hasFocus():null,ai=ci&&(o.hasFocus===t||!o.hasFocus()),yu=!ai,pu=/(mp3|mp4|mpa|m4a|m4b)/i,wr="about:blank",uf="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",br=o.location?o.location.protocol.match(/http/i):null,ff=br?"":"http://",wu=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,bu=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ef=new RegExp("\\.("+bu.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!br;p={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==t&&(yr&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(n){return!1}}();this.setup=function(n){var i=!u.url;return n!==t&&v&&w&&u.ok()&&(n.flashVersion!==t||n.url!==t||n.html5Test!==t),bi(n),y||(li?(!u.setupOptions.ignoreMobileRestrictions||u.setupOptions.forceUseGlobalHTML5Audio)&&(kt.push(ot.globalHTML5),y=!0):u.setupOptions.forceUseGlobalHTML5Audio&&(kt.push(ot.globalHTML5),y=!0)),!lr&&li&&(u.setupOptions.ignoreMobileRestrictions?kt.push(ot.ignoreMobile):(u.setupOptions.useHTML5Audio=!0,u.setupOptions.preferFlash=!1,ar?u.ignoreFlash=!0:(!vr||l.match(/android\s2\.3/i))&&vr||(y=!0))),n&&(i&&vt&&n.url!==t&&u.beginDelayedInit(),vt||n.url===t||o.readyState!=="complete"||setTimeout(ut,1)),lr=!0,u};this.ok=function(){return w?v&&!d:u.useHTML5Audio&&u.hasHTML5};this.supported=this.ok;this.getMovie=function(t){return ni(t)||o[t]||n[t]};this.createSound=function(n,i){function h(){return r=ri(r),u.sounds[r.id]=new kr(r),u.soundIDs.push(r.id),u.sounds[r.id]}var c,r,o=null;if(!v||!u.ok())return!1;if(i!==t&&(n={id:n,url:i}),r=a(n),r.url=ei(r.url),r.id===t&&(r.id=u.setupOptions.idPrefix+au++),s(r.id,!0))return u.sounds[r.id];if(oi(r))o=h(),o._setup_html5(r);else{if(u.html5Only||u.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return h();e>8&&r.isMovieStar===null&&(r.isMovieStar=!!(r.serverURL||(r.type?r.type.match(wu):!1)||r.url&&r.url.match(ef)));r=ui(r,c);o=h();e===8?f._createSound(r.id,r.loops||1,r.usePolicyFile):(f._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o)));!r.serverURL&&(r.autoLoad||r.autoPlay)&&o.load(r)}return!r.serverURL&&r.autoPlay&&o.play(),o};this.destroySound=function(n,t){if(!s(n))return!1;var i=u.sounds[n],r;for(i.stop(),i._iO={},i.unload(),r=0;r<u.soundIDs.length;r++)if(u.soundIDs[r]===n){u.soundIDs.splice(r,1);break}return t||i.destruct(!0),i=null,delete u.sounds[n],!0};this.load=function(n,t){return s(n)?u.sounds[n].load(t):!1};this.unload=function(n){return s(n)?u.sounds[n].unload():!1};this.onPosition=function(n,t,i,r){return s(n)?u.sounds[n].onposition(t,i,r):!1};this.onposition=this.onPosition;this.clearOnPosition=function(n,t,i){return s(n)?u.sounds[n].clearOnPosition(t,i):!1};this.play=function(n,t){var i=null,r=t&&!(t instanceof Object);if(!v||!u.ok())return!1;if(s(n,r))r&&(t={url:t});else{if(!r)return!1;r&&(t={url:t});t&&t.url&&(t.id=n,i=u.createSound(t).play())}return i===null&&(i=u.sounds[n].play(t)),i};this.start=this.play;this.setPosition=function(n,t){return s(n)?u.sounds[n].setPosition(t):!1};this.stop=function(n){return s(n)?u.sounds[n].stop():!1};this.stopAll=function(){for(var n in u.sounds)u.sounds.hasOwnProperty(n)&&u.sounds[n].stop()};this.pause=function(n){return s(n)?u.sounds[n].pause():!1};this.pauseAll=function(){for(var n=u.soundIDs.length-1;n>=0;n--)u.sounds[u.soundIDs[n]].pause()};this.resume=function(n){return s(n)?u.sounds[n].resume():!1};this.resumeAll=function(){for(var n=u.soundIDs.length-1;n>=0;n--)u.sounds[u.soundIDs[n]].resume()};this.togglePause=function(n){return s(n)?u.sounds[n].togglePause():!1};this.setPan=function(n,t){return s(n)?u.sounds[n].setPan(t):!1};this.setVolume=function(n,i){var r,f;if(n!==t&&!isNaN(n)&&i===t){for(r=0,f=u.soundIDs.length;r<f;r++)u.sounds[u.soundIDs[r]].setVolume(n);return}return s(n)?u.sounds[n].setVolume(i):!1};this.mute=function(n){var t=0;if(n instanceof String&&(n=null),n)return s(n)?u.sounds[n].mute():!1;for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].mute();return u.muted=!0,!0};this.muteAll=function(){u.mute()};this.unmute=function(n){var t;if(n instanceof String&&(n=null),n)return s(n)?u.sounds[n].unmute():!1;for(t=u.soundIDs.length-1;t>=0;t--)u.sounds[u.soundIDs[t]].unmute();return u.muted=!1,!0};this.unmuteAll=function(){u.unmute()};this.toggleMute=function(n){return s(n)?u.sounds[n].toggleMute():!1};this.getMemoryUse=function(){var n=0;return f&&e!==8&&(n=parseInt(f._getMemoryUse(),10)),n};this.disable=function(i){var r;if(i===t&&(i=!1),d)return!1;for(d=!0,r=u.soundIDs.length-1;r>=0;r--)uu(u.sounds[u.soundIDs[r]]);return at(i),c.remove(n,"load",ft),!0};this.canPlayMIME=function(n){var t;return u.hasHTML5&&(t=gt({type:n})),!t&&w&&(t=n&&u.ok()?!!((e>8?n.match(wu):null)||n.match(u.mimePattern)):null),t};this.canPlayURL=function(n){var t;return u.hasHTML5&&(t=gt({url:n})),!t&&w&&(t=n&&u.ok()?!!n.match(u.filePattern):null),t};this.canPlayLink=function(n){return n.type!==t&&n.type&&u.canPlayMIME(n.type)?!0:u.canPlayURL(n.href)};this.getSoundById=function(n){if(!n)return null;return u.sounds[n]};this.onready=function(t,i){var r="onready",u=!1;if(typeof t=="function")i||(i=n),ki(r,t,i),rt(),u=!0;else throw pt("needFunction",r);return u};this.ontimeout=function(t,i){var r="ontimeout",u=!1;if(typeof t=="function")i||(i=n),ki(r,t,i),rt({type:r}),u=!0;else throw pt("needFunction",r);return u};this._writeDebug=function(){return!0};this._wD=this._writeDebug;this._debug=function(){};this.reboot=function(t,i){for(var e,o,r=u.soundIDs.length-1;r>=0;r--)u.sounds[u.soundIDs[r]].destruct();if(f)try{it&&(fr=f.innerHTML);yt=f.parentNode.removeChild(f)}catch(s){}if(fr=yt=w=f=null,u.enabled=vt=v=wt=or=ct=lt=d=y=u.swfLoaded=!1,u.soundIDs=[],u.sounds={},au=0,lr=!1,t)k=[];else for(r in k)if(k.hasOwnProperty(r))for(e=0,o=k[r].length;e<o;e++)k[r][e].fired=!1;return u.html5={usingFlash:null},u.flash={},u.html5Only=!1,u.ignoreFlash=!1,n.setTimeout(function(){i||u.beginDelayedInit()},20),u};this.reset=function(){return u.reboot(!0,!0)};this.getMoviePercent=function(){return f&&"PercentLoaded"in f?f.PercentLoaded():null};this.beginDelayedInit=function(){wi=!0;ut();setTimeout(function(){return or?!1:(ii(),ti(),or=!0,!0)},20);et()};this.destruct=function(){u.disable(!0)};kr=function(n){var i=this,p,tt,it,h,w,rt,k=!1,r=[],l=0,d,ut,o=null,v,nt;v={duration:null,time:null};this.id=n.id;this.sID=this.id;this.url=n.url;this.options=a(n);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;nt=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(n){var s=null,r;if(n!==t?i._iO=a(n,i.options):(n=i.options,i._iO=n,o&&o!==i.url&&(i._iO.url=i.url,i.url=null)),i._iO.url||(i._iO.url=i.url),i._iO.url=ei(i._iO.url),i.instanceOptions=i._iO,r=i._iO,!r.url&&!i.url)return i;if(r.url===i.url&&i.readyState!==0&&i.readyState!==2)return i.readyState===3&&r.onload&&hi(i,function(){r.onload.apply(i,[!!i.duration])}),i;if(i.loaded=!1,i.readyState=1,i.playState=0,i.id3={},oi(r))s=i._setup_html5(r),s._called_load||(i._html5_canplay=!1,i.url!==r.url&&(i._a.src=r.url,i.setPosition(0)),i._a.autobuffer="auto",i._a.preload="auto",i._a._called_load=!0);else{if(u.html5Only||i._iO.url&&i._iO.url.match(/data\:/i))return i;try{i.isHTML5=!1;i._iO=ui(ri(r));i._iO.autoPlay&&(i._iO.position||i._iO.from)&&(i._iO.autoPlay=!1);r=i._iO;e===8?f._load(i.id,r.url,r.stream,r.autoPlay,r.usePolicyFile):f._load(i.id,r.url,!!r.stream,!!r.autoPlay,r.loops||1,!!r.autoLoad,r.usePolicyFile)}catch(h){st({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return i.url=r.url,i};this.unload=function(){return i.readyState!==0&&(i.isHTML5?(h(),i._a&&(i._a.pause(),o=si(i._a))):e===8?f._unload(i.id,wr):f._unload(i.id),p()),i};this.destruct=function(n){i.isHTML5?(h(),i._a&&(i._a.pause(),si(i._a),y||it(),i._a._s=null,i._a=null)):(i._iO.onfailure=null,f._destroySound(i.id));n||u.destroySound(i.id,!0)};this.play=function(n,r){var p,d,h,o,l,v,g=!0,s=null;if(r=r===t?!0:r,n||(n={}),i.url&&(i._iO.url=i.url),i._iO=a(i._iO,i.options),i._iO=a(n,i._iO),i._iO.url=ei(i._iO.url),i.instanceOptions=i._iO,!i.isHTML5&&i._iO.serverURL&&!i.connected)return i.getAutoPlay()||i.setAutoPlay(!0),i;if((oi(i._iO)&&(i._setup_html5(i._iO),w()),i.playState!==1||i.paused||(p=i._iO.multiShot,p||(i.isHTML5&&i.setPosition(i._iO.position),s=i)),s!==null)||(n.url&&n.url!==i.url&&(i.readyState||i.isHTML5||e!==8||!nt?i.load(i._iO):nt=!1),i.loaded||(i.readyState===0?(i.isHTML5||u.html5Only?i.isHTML5?i.load(i._iO):s=i:(i._iO.autoPlay=!0,i.load(i._iO)),i.instanceOptions=i._iO):i.readyState===2&&(s=i)),s!==null))return s;if(!i.isHTML5&&e===9&&i.position>0&&i.position===i.duration&&(n.position=0),i.paused&&i.position>=0&&(!i._iO.serverURL||i.position>0))i.resume();else{if(i._iO=a(n,i._iO),(!i.isHTML5&&i._iO.position!==null&&i._iO.position>0||i._iO.from!==null&&i._iO.from>0||i._iO.to!==null)&&i.instanceCount===0&&i.playState===0&&!i._iO.serverURL){if(h=function(){i._iO=a(n,i._iO);i.play(i._iO)},i.isHTML5&&!i._html5_canplay?(i.load({_oncanplay:h}),s=!1):i.isHTML5||i.loaded||i.readyState&&i.readyState===2||(i.load({onload:h}),s=!1),s!==null)return s;i._iO=ut()}(!i.instanceCount||i._iO.multiShotEvents||i.isHTML5&&i._iO.multiShot&&!y||!i.isHTML5&&e>8&&!i.getAutoPlay())&&i.instanceCount++;i._iO.onposition&&i.playState===0&&rt(i);i.playState=1;i.paused=!1;i.position=i._iO.position!==t&&!isNaN(i._iO.position)?i._iO.position:0;i.isHTML5||(i._iO=ui(ri(i._iO)));i._iO.onplay&&r&&(i._iO.onplay.apply(i),k=!0);i.setVolume(i._iO.volume,!0);i.setPan(i._iO.pan,!0);i.isHTML5?i.instanceCount<2?(w(),d=i._setup_html5(),i.setPosition(i._iO.position),d.play()):(o=new Audio(i._iO.url),l=function(){c.remove(o,"ended",l);i._onfinish(i);si(o);o=null},v=function(){c.remove(o,"canplay",v);try{o.currentTime=i._iO.position/b}catch(n){}o.play()},c.add(o,"ended",l),i._iO.volume!==t&&(o.volume=Math.max(0,Math.min(1,i._iO.volume/100))),i.muted&&(o.muted=!0),i._iO.position?c.add(o,"canplay",v):o.play()):(g=f._start(i.id,i._iO.loops||1,e===9?i.position:i.position/b,i._iO.multiShot||!1),e!==9||g||i._iO.onplayerror&&i._iO.onplayerror.apply(i))}return i};this.start=this.play;this.stop=function(n){var t=i._iO,r;return i.playState===1&&(i._onbufferchange(0),i._resetOnPosition(0),i.paused=!1,i.isHTML5||(i.playState=0),d(),t.to&&i.clearOnPosition(t.to),i.isHTML5?i._a&&(r=i.position,i.setPosition(0),i.position=r,i._a.pause(),i.playState=0,i._onTimer(),h()):(f._stop(i.id,n),t.serverURL&&i.unload()),i.instanceCount=0,i._iO={},t.onstop&&t.onstop.apply(i)),i};this.setAutoPlay=function(n){i._iO.autoPlay=n;i.isHTML5||(f._setAutoPlay(i.id,n),n&&(i.instanceCount||i.readyState!==1||i.instanceCount++))};this.getAutoPlay=function(){return i._iO.autoPlay};this.setPosition=function(n){n===t&&(n=0);var u,r,o=i.isHTML5?Math.max(n,0):Math.min(i.duration||i._iO.duration,Math.max(n,0));if(i.position=o,r=i.position/b,i._resetOnPosition(i.position),i._iO.position=o,i.isHTML5){if(i._a){if(i._html5_canplay){if(i._a.currentTime!==r)try{i._a.currentTime=r;(i.playState===0||i.paused)&&i._a.pause()}catch(s){}}else if(r)return i;i.paused&&i._onTimer(!0)}}else u=e===9?i.position:r,i.readyState&&i.readyState!==2&&f._setPosition(i.id,u,i.paused||!i.playState,i._iO.multiShot);return i};this.pause=function(n){return i.paused||i.playState===0&&i.readyState!==1?i:(i.paused=!0,i.isHTML5?(i._setup_html5().pause(),h()):(n||n===t)&&f._pause(i.id,i._iO.multiShot),i._iO.onpause&&i._iO.onpause.apply(i),i)};this.resume=function(){var n=i._iO;return i.paused?(i.paused=!1,i.playState=1,i.isHTML5?(i._setup_html5().play(),w()):(n.isMovieStar&&!n.serverURL&&i.setPosition(i.position),f._pause(i.id,n.multiShot)),!k&&n.onplay?(n.onplay.apply(i),k=!0):n.onresume&&n.onresume.apply(i),i):i};this.togglePause=function(){return i.playState===0?(i.play({position:e===9&&!i.isHTML5?i.position:i.position/b}),i):(i.paused?i.resume():i.pause(),i)};this.setPan=function(n,r){return n===t&&(n=0),r===t&&(r=!1),i.isHTML5||f._setPan(i.id,n),i._iO.pan=n,r||(i.pan=n,i.options.pan=n),i};this.setVolume=function(n,r){return n===t&&(n=100),r===t&&(r=!1),i.isHTML5?i._a&&(u.muted&&!i.muted&&(i.muted=!0,i._a.muted=!0),i._a.volume=Math.max(0,Math.min(1,n/100))):f._setVolume(i.id,u.muted&&!i.muted||i.muted?0:n),i._iO.volume=n,r||(i.volume=n,i.options.volume=n),i};this.mute=function(){return i.muted=!0,i.isHTML5?i._a&&(i._a.muted=!0):f._setVolume(i.id,0),i};this.unmute=function(){i.muted=!1;var n=i._iO.volume!==t;return i.isHTML5?i._a&&(i._a.muted=!1):f._setVolume(i.id,n?i._iO.volume:i.options.volume),i};this.toggleMute=function(){return i.muted?i.unmute():i.mute()};this.onPosition=function(n,u,f){return r.push({position:parseInt(n,10),method:u,scope:f!==t?f:i,fired:!1}),i};this.onposition=this.onPosition;this.clearOnPosition=function(n,t){var i;if(n=parseInt(n,10),isNaN(n))return!1;for(i=0;i<r.length;i++)n===r[i].position&&(t&&t!==r[i].method||(r[i].fired&&l--,r.splice(i,1)))};this._processOnPosition=function(){var t,n,u=r.length;if(!u||!i.playState||l>=u)return!1;for(t=u-1;t>=0;t--)n=r[t],!n.fired&&i.position>=n.position&&(n.fired=!0,l++,n.method.apply(n.scope,[n.position]),u=r.length);return!0};this._resetOnPosition=function(n){var t,i,u=r.length;if(!u)return!1;for(t=u-1;t>=0;t--)i=r[t],i.fired&&n<=i.position&&(i.fired=!1,l--);return!0};ut=function(){var n=i._iO,r=n.from,t=n.to,f,u;return u=function(){i.clearOnPosition(t,u);i.stop()},f=function(){if(t!==null&&!isNaN(t))i.onPosition(t,u)},r===null||isNaN(r)||(n.position=r,n.multiShot=!1,f()),n};rt=function(){var n,t=i._iO.onposition;if(t)for(n in t)if(t.hasOwnProperty(n))i.onPosition(parseInt(n,10),t[n])};d=function(){var n,t=i._iO.onposition;if(t)for(n in t)t.hasOwnProperty(n)&&i.clearOnPosition(parseInt(n,10))};w=function(){i.isHTML5&&eu(i)};h=function(){i.isHTML5&&ou(i)};p=function(n){n||(r=[],l=0);k=!1;i._hasTimer=null;i._a=null;i._html5_canplay=!1;i.bytesLoaded=null;i.bytesTotal=null;i.duration=i._iO&&i._iO.duration?i._iO.duration:null;i.durationEstimate=null;i.buffered=[];i.eqData=[];i.eqData.left=[];i.eqData.right=[];i.failures=0;i.isBuffering=!1;i.instanceOptions={};i.instanceCount=0;i.loaded=!1;i.metadata={};i.readyState=0;i.muted=!1;i.paused=!1;i.peakData={left:0,right:0};i.waveformData={left:[],right:[]};i.playState=0;i.position=null;i.id3={}};p();this._onTimer=function(n){var t,r=!1,u,f={};if(i._hasTimer||n)return i._a&&(n||(i.playState>0||i.readyState===1)&&!i.paused)&&(t=i._get_html5_duration(),t!==v.duration&&(v.duration=t,i.duration=t,r=!0),i.durationEstimate=i.duration,u=i._a.currentTime*b||0,u!==v.time&&(v.time=u,r=!0),(r||n)&&i._whileplaying(u,f,f,f,f)),r};this._get_html5_duration=function(){var t=i._iO,n=i._a&&i._a.duration?i._a.duration*b:t&&t.duration?t.duration:null;return n&&!isNaN(n)&&n!==Infinity?n:null};this._apply_loop=function(n,t){n.loop=t>1?"loop":""};this._setup_html5=function(n){var r=a(i._iO,n),t=y?dr:i._a,f=decodeURI(r.url),u;if(y?f===decodeURI(hr)&&(u=!0):f===decodeURI(o)&&(u=!0),t){if(t._s)if(y)t._s&&t._s.playState&&!u&&t._s.stop();else if(!y&&f===decodeURI(o))return i._apply_loop(t,r.loops),t;u||(o&&p(!1),t.src=r.url,i.url=r.url,o=r.url,hr=r.url,t._called_load=!1)}else r.autoLoad||r.autoPlay?(i._a=new Audio(r.url),i._a.load()):i._a=yr&&opera.version()<10?new Audio(null):new Audio,t=i._a,t._called_load=!1,y&&(dr=t);return i.isHTML5=!0,i._a=t,t._s=i,tt(),i._apply_loop(t,r.loops),r.autoLoad||r.autoPlay?i.load():(t.autobuffer=!1,t.preload="auto"),t};tt=function(){function t(n,t,r){return i._a?i._a.addEventListener(n,t,r||!1):null}if(i._a._added_events)return!1;var n;i._a._added_events=!0;for(n in g)g.hasOwnProperty(n)&&t(n,g[n]);return!0};it=function(){function t(n,t,r){return i._a?i._a.removeEventListener(n,t,r||!1):null}var n;i._a._added_events=!1;for(n in g)g.hasOwnProperty(n)&&t(n,g[n])};this._onload=function(n){var t=!!n||!i.isHTML5&&e===8&&i.duration;return i.loaded=t,i.readyState=t?3:2,i._onbufferchange(0),i._iO.onload&&hi(i,function(){i._iO.onload.apply(i,[t])}),!0};this._onbufferchange=function(n){return i.playState===0?!1:n&&i.isBuffering||!n&&!i.isBuffering?!1:(i.isBuffering=n===1,i._iO.onbufferchange&&i._iO.onbufferchange.apply(i,[n]),!0)};this._onsuspend=function(){return i._iO.onsuspend&&i._iO.onsuspend.apply(i),!0};this._onfailure=function(n,t,r){if(i.failures++,i._iO.onfailure&&i.failures===1)i._iO.onfailure(n,t,r)};this._onwarning=function(n,t,r){if(i._iO.onwarning)i._iO.onwarning(n,t,r)};this._onfinish=function(){var n=i._iO.onfinish;i._onbufferchange(0);i._resetOnPosition(0);i.instanceCount&&(i.instanceCount--,i.instanceCount||(d(),i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},h(),i.isHTML5&&(i.position=0)),(!i.instanceCount||i._iO.multiShotEvents)&&n&&hi(i,function(){n.apply(i)}))};this._whileloading=function(n,t,r,u){var f=i._iO;i.bytesLoaded=n;i.bytesTotal=t;i.duration=Math.floor(r);i.bufferLength=u;i.durationEstimate=i.isHTML5||f.isMovieStar?i.duration:f.duration?i.duration>f.duration?i.duration:f.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10);i.isHTML5||(i.buffered=[{start:0,end:i.duration}]);(i.readyState!==3||i.isHTML5)&&f.whileloading&&f.whileloading.apply(i)};this._whileplaying=function(n,r,u,f,o){var s=i._iO,h;return isNaN(n)||n===null?!1:(i.position=Math.max(0,n),i._processOnPosition(),!i.isHTML5&&e>8&&(s.usePeakData&&r!==t&&r&&(i.peakData={left:r.leftPeak,right:r.rightPeak}),s.useWaveformData&&u!==t&&u&&(i.waveformData={left:u.split(","),right:f.split(",")}),s.useEQData&&o!==t&&o&&o.leftEQ&&(h=o.leftEQ.split(","),i.eqData=h,i.eqData.left=h,o.rightEQ!==t&&o.rightEQ&&(i.eqData.right=o.rightEQ.split(",")))),i.playState===1&&(i.isHTML5||e!==8||i.position||!i.isBuffering||i._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(i)),!0)};this._oncaptiondata=function(n){i.captiondata=n;i._iO.oncaptiondata&&i._iO.oncaptiondata.apply(i,[n])};this._onmetadata=function(n,t){for(var u={},r=0,f=n.length;r<f;r++)u[n[r]]=t[r];i.metadata=u;i._iO.onmetadata&&i._iO.onmetadata.call(i,i.metadata)};this._onid3=function(n,t){for(var u=[],r=0,f=n.length;r<f;r++)u[n[r]]=t[r];i.id3=a(i.id3,u);i._iO.onid3&&i._iO.onid3.apply(i)};this._onconnect=function(n){n=n===1;i.connected=n;n&&(i.failures=0,s(i.id)&&(i.getAutoPlay()?i.play(t,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[n]))};this._ondataerror=function(){i.playState>0&&i._iO.ondataerror&&i._iO.ondataerror.apply(i)}};ir=function(){return o.body||o.getElementsByTagName("div")[0]};ni=function(n){return o.getElementById(n)};a=function(n,i){var e=n||{},f,r;f=i===t?u.defaultOptions:i;for(r in f)f.hasOwnProperty(r)&&e[r]===t&&(e[r]=typeof f[r]!="object"||f[r]===null?f[r]:a(e[r],f[r]));return e};hi=function(t,i){t.isHTML5||e!==8?i():n.setTimeout(i,0)};tu={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};bi=function(n,i){var r,f=!0,o=i!==t,s=u.setupOptions,e=tu;for(r in n)if(n.hasOwnProperty(r))if(typeof n[r]!="object"||n[r]===null||n[r]instanceof Array||n[r]instanceof RegExp)o&&e[i]!==t?u[i][r]=n[r]:s[r]!==t?(u.setupOptions[r]=n[r],u[r]=n[r]):e[r]===t?f=!1:u[r]instanceof Function?u[r].apply(u,n[r]instanceof Array?n[r]:[n[r]]):u[r]=n[r];else if(e[r]===t)f=!1;else return bi(n[r],r);return f};c=function(){function i(n){var i=gu.call(n),r=i.length;return t?(i[1]="on"+i[1],r>3&&i.pop()):r===3&&i.push(!1),i}function r(n,i){var r=n.shift(),f=[u[i]];t?r[f](n[0],n[1]):r[f].apply(r,n)}function f(){r(i(arguments),"add")}function e(){r(i(arguments),"remove")}var t=n.attachEvent,u={add:t?"attachEvent":"addEventListener",remove:t?"detachEvent":"removeEventListener"};return{add:f,remove:e}}();g={abort:h(function(){}),canplay:h(function(){var n=this._s,i;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),i=n._iO.position!==t&&!isNaN(n._iO.position)?n._iO.position/b:null,this.currentTime!==i)try{this.currentTime=i}catch(r){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:h(function(){var n=this._s;n.loaded||(n._onbufferchange(0),n._whileloading(n.bytesLoaded,n.bytesTotal,n._get_html5_duration()),n._onload(!0))}),durationchange:h(function(){var n=this._s,t;t=n._get_html5_duration();isNaN(t)||t===n.duration||(n.durationEstimate=n.duration=t)}),ended:h(function(){var n=this._s;n._onfinish()}),error:h(function(){this._s._onload(!1)}),loadeddata:h(function(){var n=this._s;n._loaded||ci||(n.duration=n._get_html5_duration())}),loadedmetadata:h(function(){}),loadstart:h(function(){this._s._onbufferchange(1)}),play:h(function(){this._s._onbufferchange(0)}),playing:h(function(){this._s._onbufferchange(0)}),progress:h(function(n){var u=this._s,i,e,o=0,s=n.type==="progress",t=n.target.buffered,r=n.loaded||0,f=n.total||1;if(u.buffered=[],t&&t.length){for(i=0,e=t.length;i<e;i++)u.buffered.push({start:t.start(i)*b,end:t.end(i)*b});o=(t.end(0)-t.start(0))*b;r=Math.min(1,o/(n.target.duration*b))}isNaN(r)||(u._whileloading(r,f,u._get_html5_duration()),r&&f&&r===f&&g.canplaythrough.call(this,n))}),ratechange:h(function(){}),suspend:h(function(n){var t=this._s;g.progress.call(this,n);t._onsuspend()}),stalled:h(function(){}),timeupdate:h(function(){this._s._onTimer()}),waiting:h(function(){var n=this._s;n._onbufferchange(1)})};oi=function(n){return n&&(n.type||n.url||n.serverURL)?n.serverURL||n.type&&vi(n.type)?!1:n.type?gt({type:n.type}):gt({url:n.url})||u.html5Only||n.url.match(/data\:/i):!1};si=function(n){var i;return n&&(i=ci?wr:u.html5.canPlayType("audio/wav")?uf:wr,n.src=i,n._called_unload!==t&&(n._called_load=!1)),y&&(hr=null),i};gt=function(n){if(!u.useHTML5Audio||!u.hasHTML5)return!1;var h=n.url||null,i=n.type||null,o=u.audioFormats,f,s,r,e;if(i&&u.html5[i]!==t)return u.html5[i]&&!vi(i);if(!nt){nt=[];for(e in o)o.hasOwnProperty(e)&&(nt.push(e),o[e].related&&(nt=nt.concat(o[e].related)));nt=new RegExp("\\.("+nt.join("|")+")(\\?.*)?$","i")}return r=h?h.toLowerCase().match(nt):null,r&&r.length?r=r[1]:i?(s=i.indexOf(";"),r=(s!==-1?i.substr(0,s):i).substr(6)):f=!1,r&&u.html5[r]!==t?f=u.html5[r]&&!vi(r):(i="audio/"+r,f=u.html5.canPlayType({type:i}),u.html5[r]=f,f=f&&u.html5[i]&&!vi(i)),f};cu=function(){function s(n){var r,f,t=!1,o=!1;if(!e||typeof e.canPlayType!="function")return t;if(n instanceof Array){for(i=0,f=n.length;i<f;i++)(u.html5[n[i]]||e.canPlayType(n[i]).match(u.html5Test))&&(o=!0,u.html5[n[i]]=!0,u.flash[n[i]]=!!n[i].match(pu));t=o}else r=e&&typeof e.canPlayType=="function"?e.canPlayType(n):!1,t=!!(r&&r.match(u.html5Test));return t}if(!u.useHTML5Audio||!u.hasHTML5)return u.html5.usingFlash=!0,w=!0,!1;var e=Audio!==t?yr&&opera.version()<10?new Audio(null):new Audio:null,n,o,f={},r,i;r=u.audioFormats;for(n in r)if(r.hasOwnProperty(n)&&(o="audio/"+n,f[n]=s(r[n].type),f[o]=f[n],n.match(pu)?(u.flash[n]=!0,u.flash[o]=!0):(u.flash[n]=!1,u.flash[o]=!1),r[n]&&r[n].related))for(i=r[n].related.length-1;i>=0;i--)f["audio/"+r[n].related[i]]=f[n],u.html5[r[n].related[i]]=f[n],u.flash[r[n].related[i]]=f[n];return f.canPlayType=e?s:null,u.html5=a(u.html5,f),u.html5.usingFlash=hu(),w=u.html5.usingFlash,!0};ot={};pt=function(){};ri=function(n){return e===8&&n.loops>1&&n.stream&&(n.stream=!1),n};ui=function(n){return n&&!n.usePolicyFile&&(n.onid3||n.usePeakData||n.useWaveformData||n.useEQData)&&(n.usePolicyFile=!0),n};du=function(){};yi=function(){return!1};uu=function(n){for(var t in n)n.hasOwnProperty(t)&&typeof n[t]=="function"&&(n[t]=yi);t=null};ur=function(n){n===t&&(n=!1);(d||n)&&u.disable(n)};fu=function(n){var i=null,t;if(n)if(n.match(/\.swf(\?.*)?$/i)){if(i=n.substr(n.toLowerCase().lastIndexOf(".swf?")+4),i)return n}else n.lastIndexOf("/")!==n.length-1&&(n+="/");return t=(n&&n.lastIndexOf("/")!==-1?n.substr(0,n.lastIndexOf("/")+1):"./")+u.movieURL,u.noSWFCache&&(t+="?ts="+(new Date).getTime()),t};gi=function(){e=parseInt(u.flashVersion,10);e!==8&&e!==9&&(u.flashVersion=e=ku);var n=u.debugMode||u.debugFlash?"_debug.swf":".swf";u.useHTML5Audio&&!u.html5Only&&u.audioFormats.mp4.required&&e<9&&(u.flashVersion=e=9);u.version=u.versionNumber+(u.html5Only?" (HTML5-only mode)":e===9?" (AS3/Flash 9)":" (AS2/Flash 8)");e>8?(u.defaultOptions=a(u.defaultOptions,u.flash9Options),u.features.buffering=!0,u.defaultOptions=a(u.defaultOptions,u.movieStarOptions),u.filePatterns.flash9=new RegExp("\\.(mp3|"+bu.join("|")+")(\\?.*)?$","i"),u.features.movieStar=!0):u.features.movieStar=!1;u.filePattern=u.filePatterns[e!==8?"flash9":"flash8"];u.movieURL=(e===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",n);u.features.peakData=u.features.waveformData=u.features.eqData=e>8};ru=function(n,t){if(!f)return!1;f._setPolling(n,t)};rr=function(){};s=this.getSoundById;ht=function(){var n=[];return u.debugMode&&n.push(p.sm2Debug),u.debugFlash&&n.push(p.flashDebug),u.useHighPerformance&&n.push(p.highPerf),n.join(" ")};er=function(){var r=pt("fbHandler"),i=u.getMoviePercent(),n=p,t={type:"FLASHBLOCK"};if(u.html5Only)return!1;u.ok()?u.oMC&&(u.oMC.className=[ht(),n.swfDefault,n.swfLoaded+(u.didFlashBlock?" "+n.swfUnblocked:"")].join(" ")):(w&&(u.oMC.className=ht()+" "+n.swfDefault+" "+(i===null?n.swfTimedout:n.swfError)),u.didFlashBlock=!0,rt({type:"ontimeout",ignoreInit:!0,error:t}),st(t))};ki=function(n,i,r){k[n]===t&&(k[n]=[]);k[n].push({method:i,scope:r||null,fired:!1})};rt=function(n){if((n||(n={type:u.ok()?"onready":"ontimeout"}),!v&&n&&!n.ignoreInit)||n.type==="ontimeout"&&(u.ok()||d&&!n.ignoreInit))return!1;var o={success:n&&n.ignoreInit?u.ok():!d},f=n&&n.type?k[n.type]||[]:[],i=[],t,r,e=[o],s=w&&!u.ok();for(n.error&&(e[0].error=n.error),t=0,r=f.length;t<r;t++)f[t].fired!==!0&&i.push(f[t]);if(i.length)for(t=0,r=i.length;t<r;t++)i[t].scope?i[t].method.apply(i[t].scope,e):i[t].method.apply(this,e),s||(i[t].fired=!0);return!0};ft=function(){n.setTimeout(function(){u.useFlashBlock&&er();rt();typeof u.onload=="function"&&u.onload.apply(n);u.waitForWindowLoad&&c.add(n,"load",ft)},1)};cr=function(){if(tt!==t)return tt;var r=!1,e=navigator,o=e.plugins,u,f,i,s=n.ActiveXObject;if(o&&o.length)f="application/x-shockwave-flash",i=e.mimeTypes,i&&i[f]&&i[f].enabledPlugin&&i[f].enabledPlugin.description&&(r=!0);else if(s!==t&&!l.match(/MSAppHost/i)){try{u=new s("ShockwaveFlash.ShockwaveFlash")}catch(h){u=null}r=!!u;u=null}return tt=r,r};hu=function(){var i,n,t=u.audioFormats,r=ar&&!!l.match(/os (1|2|3_0|3_1)\s/i);if(r?(u.hasHTML5=!1,u.html5Only=!0,u.oMC&&(u.oMC.style.display="none")):u.useHTML5Audio&&(u.html5&&u.html5.canPlayType||(u.hasHTML5=!1)),u.useHTML5Audio&&u.hasHTML5){dt=!0;for(n in t)t.hasOwnProperty(n)&&t[n].required&&(u.html5.canPlayType(t[n].type)?u.preferFlash&&(u.flash[n]||u.flash[t[n].type])&&(i=!0):(dt=!1,i=!0))}return u.ignoreFlash&&(i=!1,dt=!0),u.html5Only=u.hasHTML5&&u.useHTML5Audio&&!i,!u.html5Only};ei=function(n){var t,f,i=0,r;if(n instanceof Array){for(t=0,f=n.length;t<f;t++)if(n[t]instanceof Object){if(u.canPlayMIME(n[t].type)){i=t;break}}else if(u.canPlayURL(n[t])){i=t;break}n[i].url&&(n[i]=n[i].url);r=n[i]}else r=n;return r};eu=function(n){n._hasTimer||(n._hasTimer=!0,!li&&u.html5PollingInterval&&(bt===null&&fi===0&&(bt=setInterval(su,u.html5PollingInterval)),fi++))};ou=function(n){n._hasTimer&&(n._hasTimer=!1,!li&&u.html5PollingInterval&&fi--)};su=function(){var n;if(bt!==null&&!fi)return clearInterval(bt),bt=null,!1;for(n=u.soundIDs.length-1;n>=0;n--)u.sounds[u.soundIDs[n]].isHTML5&&u.sounds[u.soundIDs[n]]._hasTimer&&u.sounds[u.soundIDs[n]]._onTimer()};st=function(i){i=i!==t?i:{};typeof u.onerror=="function"&&u.onerror.apply(n,[{type:i.type!==t?i.type:null}]);i.fatal!==t&&i.fatal&&u.disable()};lu=function(){if(!vu||!cr())return!1;var t=u.audioFormats,i;for(var n in t)if(t.hasOwnProperty(n)&&(n==="mp3"||n==="mp4")&&(u.html5[n]=!1,t[n]&&t[n].related))for(i=t[n].related.length-1;i>=0;i--)u.html5[t[n].related[i]]=!1};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(u.swfLoaded)return!1;u.swfLoaded=!0;ai=!1;vu&&lu();setTimeout(pi,it?100:1)};ii=function(n,i){function d(){}function s(n,t){return'<param name="'+n+'" value="'+t+'" />'}if(ct&&lt)return!1;if(u.html5Only)return gi(),d(),u.oMC=ni(u.movieID),pi(),ct=!0,lt=!0,!1;var g=i||u.url,tt=u.altURL||g,y=ir(),c=ht(),nt=null,w=o.getElementsByTagName("html")[0],r,h,a,b,e,f,v,k;if(nt=w&&w.dir&&w.dir.match(/rtl/i),n=n===t?u.id:n,gi(),u.url=fu(br?g:tt),i=u.url,u.wmode=!u.wmode&&u.useHighPerformance?"transparent":u.wmode,u.wmode!==null&&(l.match(/msie 8/i)||!it&&!u.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(kt.push(ot.spcWmode),u.wmode=null),r={name:n,id:n,src:i,quality:"high",allowScriptAccess:u.allowScriptAccess,bgcolor:u.bgColor,pluginspage:ff+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:u.wmode,hasPriority:"true"},u.debugFlash&&(r.FlashVars="debug=1"),u.wmode||delete r.wmode,it)h=o.createElement("div"),b=['<object id="'+n+'" data="'+i+'" type="'+r.type+'" title="'+r.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',s("movie",i),s("AllowScriptAccess",u.allowScriptAccess),s("quality",r.quality),u.wmode?s("wmode",u.wmode):"",s("bgcolor",u.bgColor),s("hasPriority","true"),u.debugFlash?s("FlashVars",r.FlashVars):"","<\/object>"].join("");else{h=o.createElement("embed");for(a in r)r.hasOwnProperty(a)&&h.setAttribute(a,r[a])}if(rr(),c=ht(),y=ir(),y)if(u.oMC=ni(u.movieID)||o.createElement("div"),u.oMC.id)k=u.oMC.className,u.oMC.className=(k?k+" ":p.swfDefault)+(c?" "+c:""),u.oMC.appendChild(h),it&&(e=u.oMC.appendChild(o.createElement("div")),e.className=p.swfBox,e.innerHTML=b),lt=!0;else{if(u.oMC.id=u.movieID,u.oMC.className=p.swfDefault+" "+c,f=null,e=null,u.useFlashBlock||(u.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},nt&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),rf&&(u.oMC.style.zIndex=1e4),!u.debugFlash)for(v in f)f.hasOwnProperty(v)&&(u.oMC.style[v]=f[v]);try{it||u.oMC.appendChild(h);y.appendChild(u.oMC);it&&(e=u.oMC.appendChild(o.createElement("div")),e.className=p.swfBox,e.innerHTML=b);lt=!0}catch(rt){throw new Error(pt("domError")+" \n"+rt.toString());}}return ct=!0,d(),!0};ti=function(){return u.html5Only?(ii(),!1):f?!1:u.url?(f=u.getMovie(u.id),f||(yt?(it?u.oMC.innerHTML=fr:u.oMC.appendChild(yt),yt=null,ct=!0):ii(u.id,u.url),f=u.getMovie(u.id)),typeof u.oninitmovie=="function"&&setTimeout(u.oninitmovie,1),!0):!1};et=function(){setTimeout(iu,1e3)};di=function(){n.setTimeout(function(){u.setup({preferFlash:!1}).reboot();u.didFlashBlock=!0;u.beginDelayedInit()},1)};iu=function(){var t,i=!1;if(!u.url||wt||(wt=!0,c.remove(n,"load",et),tt&&ai&&!pr))return!1;v||(t=u.getMoviePercent(),t>0&&t<100&&(i=!0));setTimeout(function(){if(t=u.getMoviePercent(),i)return wt=!1,n.setTimeout(et,1),!1;!v&&yu&&(t===null?u.useFlashBlock||u.flashLoadTimeout===0?u.useFlashBlock&&er():!u.useFlashBlock&&dt?di():rt({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):u.flashLoadTimeout===0||(!u.useFlashBlock&&dt?di():ur(!0)))},u.flashLoadTimeout)};nr=function(){function t(){c.remove(n,"focus",nr)}return pr||!ai?(t(),!0):(yu=!0,pr=!0,wt=!1,et(),t(),!0)};tf=function(){};nf=function(){};at=function(t){if(v)return!1;if(u.html5Only)return v=!0,ft(),!0;var f=u.useFlashBlock&&u.flashLoadTimeout&&!u.getMoviePercent(),r=!0,i;return f||(v=!0),i={type:!tt&&w?"NO_FLASH":"INIT_TIMEOUT"},(d||t)&&(u.useFlashBlock&&u.oMC&&(u.oMC.className=ht()+" "+(u.getMoviePercent()===null?p.swfTimedout:p.swfError)),rt({type:"ontimeout",error:i,ignoreInit:!0}),st(i),r=!1),d||(u.waitForWindowLoad&&!wi?c.add(n,"load",ft):ft()),r};nu=function(){var n,i=u.setupOptions;for(n in i)i.hasOwnProperty(n)&&(u[n]===t?u[n]=i[n]:u[n]!==i[n]&&(u.setupOptions[n]=u[n]))};pi=function(){function t(){c.remove(n,"load",u.beginDelayedInit)}if(v)return!1;if(u.html5Only)return v||(t(),u.enabled=!0,at()),!0;ti();try{f._externalInterfaceTest(!1);ru(!0,u.flashPollingInterval||(u.useHighPerformance?10:50));u.debugMode||f._disableDebug();u.enabled=!0;u.html5Only||c.add(n,"unload",yi)}catch(i){return st({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ur(!0),at(),!1}return at(),t(),!0};ut=function(){return vt?!1:(vt=!0,nu(),rr(),!tt&&u.hasHTML5&&u.setup({useHTML5Audio:!0,preferFlash:!1}),cu(),!tt&&w&&(kt.push(ot.needFlash),u.setup({flashLoadTimeout:1})),o.removeEventListener&&o.removeEventListener("DOMContentLoaded",ut,!1),ti(),!0)};sr=function(){return o.readyState==="complete"&&(ut(),o.detachEvent("onreadystatechange",sr)),!0};tr=function(){wi=!0;ut();c.remove(n,"load",tr)};cr();c.add(n,"focus",nr);c.add(n,"load",et);c.add(n,"load",tr);o.addEventListener?o.addEventListener("DOMContentLoaded",ut,!1):o.attachEvent?o.attachEvent("onreadystatechange",sr):st({type:"NO_DOM2_EVENTS",fatal:!0})}if(!n||!n.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;n.SM2_DEFER!==t&&SM2_DEFER||(r=new i);typeof module=="object"&&module&&typeof module.exports=="object"?(module.exports.SoundManager=i,module.exports.soundManager=r):typeof define=="function"&&define.amd&&define(function(){function t(t){if(!n.soundManager&&t instanceof Function){var r=t(i);r instanceof i&&(n.soundManager=r)}return n.soundManager}return{constructor:i,getInstance:t}});n.SoundManager=i;n.soundManager=r})(window),function(n){"use strict";var u,i=[],f=".sm2-bar-ui",r,t;i.on={};r={stopOtherSounds:!0,excludeClass:"sm2-exclude"};soundManager.setup({html5PollingInterval:50,flashVersion:9,debugMode:!1,debugFlash:!1,preferFlash:!1,url:"https://mmixstaticassets.azureedge.net/Sm2Shim/"});soundManager.onready(function(){var n,r,e;if(n=t.dom.getAll(f),n&&n.length)for(r=0,e=n.length;r<e;r++)i.push(new u(n[r]))});u=function(u){function k(){r.stopOtherSounds&&soundManager.stopAll()}function v(n){n&&(a.on&&a.on[n]?a.on[n](a):i.on[n]&&i.on[n](a))}function d(n,t){var f=Math.floor(n/1e3),i=Math.floor(f/3600),r=Math.floor(f/60)-Math.floor(i*60),u=Math.floor(f-i*3600-r*60);return t?(i?i+":":"")+(i&&r<10?"0"+r:r)+":"+(u<10?"0"+u:u):{min:r,sec:u}}function g(n){var t=n.getElementsByTagName("a");t.length&&(n=t[0]);f.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li>'+n.innerHTML.replace(l.loadFailedCharacter,"")+"<\/li><\/ul>";f.playlistTarget.getElementsByTagName("li")[0].scrollWidth>f.playlistTarget.offsetWidth&&(f.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li><marquee>'+n.innerHTML+"<\/marquee><\/li><\/ul>")}function rt(i){return soundManager.createSound({url:i,volume:p,whileplaying:function(){var n=100,t,i;t=Math.min(n,Math.max(0,n*(this.position/this.durationEstimate)))+"%";i=Math.min(100,Math.max(0,100*this.position/this.durationEstimate))+"%";this.duration&&(f.progress.style.left=t,f.progressBar.style.width=i,f.time.innerHTML=d(this.position,!0))},onbufferchange:function(n){n?t.css.add(f.o,"buffering"):t.css.remove(f.o,"buffering")},onplay:function(){t.css.swap(f.o,"paused","playing");v("play")},onpause:function(){t.css.swap(f.o,"playing","paused");v("pause")},onresume:function(){t.css.swap(f.o,"paused","playing")},whileloading:function(){this.isHTML5||(f.duration.innerHTML=d(this.durationEstimate,!0))},onload:function(n){n?(f.duration.innerHTML=d(this.duration,!0),w=0):this._iO&&this._iO.onerror&&this._iO.onerror()},onerror:function(){w++;w>=it&&e.data.loopMode&&(e.data.loopMode=!1,t.css.toggle(t.dom.get(f.o,".sm2-icon-repeat").parentNode,h.active));var u,i,r;u=e.getItem();u&&l.loadFailedCharacter&&(f.playlistTarget.innerHTML=f.playlistTarget.innerHTML.replace("<li>","<li>"+l.loadFailedCharacter+" "),e.data.playlist&&e.data.playlist[e.data.selectedIndex]&&(i=e.data.playlist[e.data.selectedIndex].getElementsByTagName("a")[0],r=i.innerHTML,r.indexOf(l.loadFailedCharacter)===-1&&(i.innerHTML=l.loadFailedCharacter+" "+r)));v("error");navigator.userAgent.match(/mobile/i)?c.next():(e.data.timer&&n.clearTimeout(e.data.timer),e.data.timer=n.setTimeout(c.next,2e3))},onstop:function(){t.css.remove(f.o,"playing")},onfinish:function(){var i,n;t.css.remove(f.o,"playing");f.progress.style.left="0%";i=e.data.selectedIndex;v("finish");n=e.getNext();n&&e.data.selectedIndex!==i?(e.select(n),g(n),k(),this.play({url:e.getURL()})):v("end")}})}function b(t){soundManager.canPlayURL(t.href)&&(e.data.timer&&(n.clearTimeout(e.data.timer),e.data.timer=null),s||(s=rt(t.href)),s.stop(),e.select(t.parentNode),g(t.parentNode),f.progress.style.left="0px",f.progressBar.style.width="0px",k(),s.play({url:t.href,position:0}))}function ot(){function u(){return i.playlist}function r(n){var t;return i.selectedIndex===null?n:(t=u(),n=n!==undefined?n:i.selectedIndex,n=Math.max(0,Math.min(n,t.length)),t[n])}function o(n){var i,t,f,r;if(r=-1,i=u(),i)for(t=0,f=i.length;t<f;t++)if(i[t]===n){r=t;break}return r}function s(){return i.selectedIndex!==null&&i.selectedIndex++,i.playlist.length>1?i.selectedIndex>=i.playlist.length&&(i.loopMode?i.selectedIndex=0:i.selectedIndex--):i.selectedIndex=null,r()}function l(){return i.selectedIndex--,i.selectedIndex<0&&(i.loopMode?i.selectedIndex=i.playlist.length-1:i.selectedIndex++),r()}function a(){var i,n,r;for(i=t.dom.getAll(f.playlist,"."+h.selected),n=0,r=i.length;n<r;n++)t.css.remove(i[n],h.selected)}function v(n){var v,r,u,e,s,c,l;a();n&&(l=t.dom.ancestor("li",n),t.css.add(l,h.selected),r=n.offsetTop,u=r+n.offsetHeight,e=f.playlistContainer.offsetHeight,s=f.playlist.scrollTop,c=8,u>e+s?f.playlist.scrollTop=u-e+c:r<s&&(f.playlist.scrollTop=n.offsetTop-c));v=o(l);i.selectedIndex=v}function y(n){var t;n=n||0;t=r(n);t&&b(t.getElementsByTagName("a")[0])}function w(){var n,t;return n=r(),n&&(t=n.getElementsByTagName("a")[0].href),t}function e(){if(!f.playlist)return n.console&&console.warn&&console.warn("refreshDOM(): playlist node not found?"),!1;i.playlist=f.playlist.getElementsByTagName("li")}function k(){f.playlistTarget=t.dom.get(f.o,".sm2-playlist-target");f.playlistContainer=t.dom.get(f.o,".sm2-playlist-drawer");f.playlist=t.dom.get(f.o,".sm2-playlist-bd")}function d(){p=soundManager.defaultOptions.volume;k();e();t.css.has(f.o,h.playlistOpen)&&n.setTimeout(function(){c.menu(!0)},1)}var i;return i={playlist:[],selectedIndex:0,loopMode:!1,timer:null},d(),{data:i,refresh:e,getNext:s,getPrevious:l,getItem:r,getURL:w,playItemByOffset:y,select:v}}function ut(n){if(n&&(n.which&&n.which===2||n.which===undefined&&n.button!==1))return!0}function ft(i){if(!i)return!1;o.volume.x=t.position.getOffX(i);o.volume.y=t.position.getOffY(i);o.volume.width=i.offsetWidth;o.volume.height=i.offsetHeight;o.volume.backgroundSize=parseInt(t.style.get(i,"background-size"),10);n.navigator.userAgent.match(/msie|trident/i)&&(o.volume.backgroundSize=o.volume.backgroundSize/o.volume.width*100)}function st(n){var r,i;return(i=n.target||n.srcElement,ut(n))?!0:(i.nodeName.toLowerCase()!=="a"&&(r=i.getElementsByTagName("a"),r&&r.length&&(i=i.getElementsByTagName("a")[0])),t.css.has(i,"sm2-volume-control")?(ft(i),t.events.add(document,"mousemove",c.adjustVolume),t.events.add(document,"mouseup",c.releaseVolume),c.adjustVolume(n)):void 0)}function ht(i){var e,u,s,f,o,l,h;if(e=i||n.event,u=e.target||e.srcElement,u&&u.nodeName){if(f=u.nodeName.toLowerCase(),f!=="a"&&u.parentNode){do u=u.parentNode,f=u.nodeName.toLowerCase();while(f!=="a"&&u.parentNode);if(!u)return!1}if(f==="a"&&(l=u.href,soundManager.canPlayURL(l)?t.css.has(u,r.excludeClass)||(b(u),h=!0):(s=u.href.lastIndexOf("#"),s!==-1&&(o=u.href.substr(s+1),o&&c[o]&&(h=!0,c[o](i)))),h))return t.events.preventDefault(e)}}function nt(n){var r,u,e,o,h,i;return r=f.progressTrack,u=t.position.getOffX(r),e=r.offsetWidth,o=n.clientX-u,h=o/e,i=s,i&&i.duration&&(i.setPosition(i.duration*h),i._iO&&i._iO.whileplaying&&i._iO.whileplaying.apply(i)),n.preventDefault&&n.preventDefault(),!1}function et(n){return t.events.remove(document,"mousemove",nt),t.css.remove(f.o,"grabbing"),t.events.remove(document,"mouseup",et),t.events.preventDefault(n),!1}function ct(){u||console.warn("init(): No playerNode element?");f.o=u;n.navigator.userAgent.match(/msie [678]/i)&&t.css.add(f.o,h.legacy);n.navigator.userAgent.match(/mobile/i)&&t.css.add(f.o,h.noVolume);f.progress=t.dom.get(f.o,".sm2-progress-ball");f.progressTrack=t.dom.get(f.o,".sm2-progress-track");f.progressBar=t.dom.get(f.o,".sm2-progress-bar");f.volume=t.dom.get(f.o,"a.sm2-volume-control");f.volume&&ft(f.volume);f.duration=t.dom.get(f.o,".sm2-inline-duration");f.time=t.dom.get(f.o,".sm2-inline-time");e=new ot;y=e.getItem(0);e.select(y);y&&g(y);t.events.add(f.o,"mousedown",st);t.events.add(f.o,"click",ht);t.events.add(f.progressTrack,"mousedown",function(n){return ut(n)?!0:(t.css.add(f.o,"grabbing"),t.events.add(document,"mousemove",nt),t.events.add(document,"mouseup",et),nt(n))});n.navigator.userAgent.match(/mobile/i)||t.css.has(f.o,"auto-play")&&n.setTimeout(function(){e.playItemByOffset(0)},2);t.css.has(f.o,"repeat-playback")&&n.setTimeout(function(){e.data.loopMode=!0;t.css.toggle(t.dom.get(f.o,".sm2-icon-repeat").parentNode,h.active)},2)}var h,f,l,e,s,c,o,y,p,tt,a,w,it;return h={disabled:"disabled",selected:"selected",active:"active",legacy:"legacy",noVolume:"no-volume",playlistOpen:"playlist-open"},f={o:null,playlist:null,playlistTarget:null,playlistContainer:null,time:null,player:null,progress:null,progressTrack:null,progressBar:null,duration:null,volume:null},l={loadFailedCharacter:'<span title="Failed to load/play." class="load-error">✖<\/span>'},w=0,it=5,o={volume:{x:0,y:0,width:0,height:0,backgroundSize:0}},c={play:function(t){var u,i,r;if(t!==undefined&&!isNaN(t))return e.playItemByOffset(t);r=t;r&&r.target&&(u=r.target||r.srcElement,i=u.href);i&&i.indexOf("#")===-1||(i=f.playlist.getElementsByTagName("a")[0].href);s||(s=rt(i));s.playState||k();s.togglePause();s.paused&&e.data.timer&&(n.clearTimeout(e.data.timer),e.data.timer=null)},pause:function(){s&&s.readyState&&s.pause()},resume:function(){s&&s.readyState&&s.resume()},stop:function(){return c.pause()},next:function(){var t,i;e.data.timer&&(n.clearTimeout(e.data.timer),e.data.timer=null);i=e.data.selectedIndex;t=e.getNext(!0);t&&e.data.selectedIndex!==i&&b(t.getElementsByTagName("a")[0])},prev:function(){var n,t;t=e.data.selectedIndex;n=e.getPrevious();n&&e.data.selectedIndex!==t&&b(n.getElementsByTagName("a")[0])},shuffle:function(n){var i=n?n.target||n.srcElement:t.dom.get(f.o,".shuffle");i&&!t.css.has(i,h.disabled)&&(t.css.toggle(i.parentNode,h.active),e.data.shuffleMode=!e.data.shuffleMode)},repeat:function(n){var i=n?n.target||n.srcElement:t.dom.get(f.o,".repeat");i&&!t.css.has(i,h.disabled)&&(t.css.toggle(i.parentNode,h.active),e.data.loopMode=!e.data.loopMode)},menu:function(n){var i;i=t.css.has(f.o,h.playlistOpen);!e||e.data.selectedIndex||tt||(f.playlist.scrollTop=0,tt=!0);typeof n=="boolean"&&n||(i||(f.playlistContainer.style.height="0px"),i=t.css.toggle(f.o,h.playlistOpen));f.playlistContainer.style.height=(i?f.playlistContainer.scrollHeight:0)+"px"},adjustVolume:function(i){var r,u,l,e,h;return(e=0,l=f.volume,i===undefined)?!1:!i||i.clientX===undefined?(arguments.length&&n.console&&n.console.warn&&console.warn("Bar UI: call setVolume("+i+") instead of adjustVolume("+i+")."),c.setVolume.apply(this,arguments)):(r=(100-o.volume.backgroundSize)/2,e=Math.max(0,Math.min(1,(i.clientX-o.volume.x)/o.volume.width)),l.style.clip="rect(0px, "+o.volume.width*e+"px, "+o.volume.height+"px, "+o.volume.width*(r/100)+"px)",u=r/100*o.volume.width,h=Math.max(0,Math.min(1,(i.clientX-o.volume.x-u)/(o.volume.width-u*2)))*100,s&&s.setVolume(h),p=h,t.events.preventDefault(i))},releaseVolume:function(){t.events.remove(document,"mousemove",c.adjustVolume);t.events.remove(document,"mouseup",c.releaseVolume)},setVolume:function(n){var r,u,t,e,i,h;n===undefined||isNaN(n)||(f.volume&&(e=f.volume,r=o.volume.backgroundSize,u=(100-r)/2,t=o.volume.width*(u/100),i=t,h=i+(o.volume.width-t*2)*(n/100),e.style.clip="rect(0px, "+h+"px, "+o.volume.height+"px, "+i+"px)"),s&&s.setVolume(n),p=n)}},ct(),a={on:null,actions:c,dom:f,playlistController:e}};t={array:function(){function n(n){var t;return function(i,r){return t=i[n]<r[n]?-1:i[n]>r[n]?1:0}}function t(n){for(var i,r,t=n.length-1;t>0;t--)i=Math.floor(Math.random()*(t+1)),r=n[t],n[t]=n[i],n[i]=r;return n}return{compare:n,shuffle:t}}(),css:function(){function n(n,t){return n.className!==undefined?new RegExp("(^|\\s)"+t+"(\\s|$)").test(n.className):!1}function t(t,i){if(!t||!i||n(t,i))return!1;t.className=(t.className?t.className+" ":"")+i}function i(t,i){if(!t||!i||!n(t,i))return!1;t.className=t.className.replace(new RegExp("( "+i+")|("+i+")","g"),"")}function r(n,r,u){var f={className:n.className};i(f,r);t(f,u);n.className=f.className}function u(r,u){var f,e;return f=n(r,u),e=f?i:t,e(r,u),!f}return{has:n,add:t,remove:i,swap:r,toggle:u}}(),dom:function(){function n(n,t){var i,r,u;return arguments.length===1?(i=document.documentElement,r=n):(i=n,r=t),i&&i.querySelectorAll&&(u=i.querySelectorAll(r)),u}function t(){var t=n.apply(this,arguments);return t&&t.length?t[t.length-1]:t&&t.length===0?null:t}function i(n,t,i){if(!t||!n||(n=n.toUpperCase(),i&&t&&t.nodeName===n))return t;while(t&&t.nodeName!==n&&t.parentNode)t=t.parentNode;return t&&t.nodeName===n?t:null}return{ancestor:i,get:t,getAll:n}}(),position:function(){function n(n){var t=0;if(n.offsetParent)while(n.offsetParent)t+=n.offsetLeft,n=n.offsetParent;else n.x&&(t+=n.x);return t}function t(n){var t=0;if(n.offsetParent)while(n.offsetParent)t+=n.offsetTop,n=n.offsetParent;else n.y&&(t+=n.y);return t}return{getOffX:n,getOffY:t}}(),style:function(){function t(t,i){var r;return t.currentStyle?r=t.currentStyle[i]:n.getComputedStyle&&(r=document.defaultView.getComputedStyle(t,null).getPropertyValue(i)),r}return{get:t}}(),events:function(){var i,t,r;return i=function(i,r,u){var f={detach:function(){return t(i,r,u)}};return n.addEventListener?i.addEventListener(r,u,!1):i.attachEvent("on"+r,u),f},t=n.removeEventListener!==undefined?function(n,t,i){return n.removeEventListener(t,i,!1)}:function(n,t,i){return n.detachEvent("on"+t,i)},r=function(n){return n.preventDefault?n.preventDefault():(n.returnValue=!1,n.cancelBubble=!0),!1},{add:i,preventDefault:r,remove:t}}(),features:function(){function r(n){var t=i.style[n];return t!==undefined?n:null}function h(n){try{i.style[o]=n}catch(t){return!1}return!!i.style[o]}var s,u,t,f,e,i,o;return i=document.createElement("div"),u=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||null,s=u?function(){return u.apply(n,arguments)}:null,t={transform:{ie:r("-ms-transform"),moz:r("MozTransform"),opera:r("OTransform"),webkit:r("webkitTransform"),w3:r("transform"),prop:null},rotate:{has3D:!1,prop:null},getAnimationFrame:s},t.transform.prop=t.transform.w3||t.transform.moz||t.transform.webkit||t.transform.ie||t.transform.opera,t.transform.prop&&(o=t.transform.prop,e={css_2d:"rotate(0deg)",css_3d:"rotate3d(0,0,0,0deg)"},h(e.css_3d)?(t.rotate.has3D=!0,f="rotate3d"):h(e.css_2d)&&(f="rotate"),t.rotate.prop=f),i=null,t}()};n.sm2BarPlayers=i;n.sm2BarPlayerOptions=r;n.SM2BarPlayer=u}(window);